(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports={applicationWrapper:"ApplicationTile_applicationWrapper__27e9G",smartHome:"ApplicationTile_smartHome__3a6mA",applicationTitle:"ApplicationTile_applicationTitle__2kH2e",applicationThumbnailWrapper:"ApplicationTile_applicationThumbnailWrapper__20ksg",imageThumbnail:"ApplicationTile_imageThumbnail__89qEn",imageSize:"ApplicationTile_imageSize__1rPAz",textThumbnail:"ApplicationTile_textThumbnail__rWz4G",textThumbnailLarge:"ApplicationTile_textThumbnailLarge__2-mxt",applicationContent:"ApplicationTile_applicationContent__3ITxh",mkAppModalWrapper:"ApplicationTile_mkAppModalWrapper__PAqIz"}},17:function(e,t,n){e.exports={contentHeader:"Header_contentHeader__3VQUP",sectionTitle:"Header_sectionTitle__-ov6M",headerUserWrapper:"Header_headerUserWrapper__2GIw1",headerUserThumbnail:"Header_headerUserThumbnail__2rbDm",headerUserName:"Header_headerUserName__3G5We",headerOptions:"Header_headerOptions__3yds2",headerTriangle:"Header_headerTriangle__Ww1fI"}},18:function(e,t,n){e.exports={pageWrapper:"NodePage_pageWrapper__3eVnp",pageContentWrapper:"NodePage_pageContentWrapper__2Qbn_",outerCardWrapper:"NodePage_outerCardWrapper__21dps",cardWrapper:"NodePage_cardWrapper__3n1JV",cardWrapperSelected:"NodePage_cardWrapperSelected__3PoTm",cardWrapperSettingsLoaded:"NodePage_cardWrapperSettingsLoaded__FtlqC",pageHeaderWrapper:"NodePage_pageHeaderWrapper__Q-pBE",displayMasterNode:"NodePage_displayMasterNode__25CzA",nodeSettingsSpinner:"NodePage_nodeSettingsSpinner__2h3b0",loading:"NodePage_loading__3gi1b"}},19:function(e,t,n){e.exports={nodeSettingsHeader:"NodeSettings_nodeSettingsHeader__3UXqJ",nodeSettingsHeaderDetails:"NodeSettings_nodeSettingsHeaderDetails__1Atm1",nodeSettingsContent:"NodeSettings_nodeSettingsContent__16pfz",loaderWrapper:"NodeSettings_loaderWrapper__Xpyfr",loading:"NodeSettings_loading__27YjY",closeButton:"NodeSettings_closeButton__MW1M_",nodeSettingsSpinner:"NodeSettings_nodeSettingsSpinner__3CeRp"}},27:function(e,t,n){e.exports={root:"Dashboard_root__16vDT",siteContent:"Dashboard_siteContent__3dzLv"}},29:function(e,t,n){e.exports={pageWrapper:"ApplicationsPage_pageWrapper__15VPZ",pageContentWrapper:"ApplicationsPage_pageContentWrapper__36l8H"}},48:function(e,t,n){e.exports={myApplicationsHeader:"PageHeader_myApplicationsHeader__1gNVv"}},49:function(e,t,n){e.exports={mainWrapper:"FavoritesPage_mainWrapper__3sL4o"}},52:function(e,t,n){e.exports={overlay:"NodeCardTransition_overlay__2GPFU"}},55:function(e,t,n){e.exports=n(82)},68:function(e,t,n){e.exports=n.p+"static/media/react_logo.5d5d9eef.svg"},7:function(e,t,n){e.exports={deviceTypeIcon:"NodeCardSummary_deviceTypeIcon__2F5Ft",Section:"NodeCardSummary_Section__2lg2I",IconSectionBackground:"NodeCardSummary_IconSectionBackground__3HUvj",deviceContentWrapper:"NodeCardSummary_deviceContentWrapper__1kUWe",subTitle:"NodeCardSummary_subTitle__hlg01",text:"NodeCardSummary_text__2K290",deviceType:"NodeCardSummary_deviceType__fTJbZ",deviceName:"NodeCardSummary_deviceName__3GCE9",deviceSettingsMenu:"NodeCardSummary_deviceSettingsMenu__3TNz_",deviceSettingsMenuIcon:"NodeCardSummary_deviceSettingsMenuIcon__3argl",deviceStatus:"NodeCardSummary_deviceStatus__39QcL",cardSummary:"NodeCardSummary_cardSummary__3jVLn",nodeSettingPageWrapper:"NodeCardSummary_nodeSettingPageWrapper__1KMMo",placeHolderWidth:"NodeCardSummary_placeHolderWidth__18BYj",nodeSettingPage:"NodeCardSummary_nodeSettingPage__1kob1",modalWrapper:"NodeCardSummary_modalWrapper__3j6O9"}},8:function(e,t,n){e.exports={sideMenuWrapper:"SideMenu_sideMenuWrapper__2Sypt",sideMenuTitle:"SideMenu_sideMenuTitle__3gLou",sideMenuItem:"SideMenu_sideMenuItem__1uYWu",sideMenuItemIcon:"SideMenu_sideMenuItemIcon__ZZbgL",sideMenuIPinnedApps:"SideMenu_sideMenuIPinnedApps__WJHd2",selected:"SideMenu_selected__3ix6Q"}},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),o=n(2),s=n(3),l=n(5),p=n(4),d=n(6),u=n(27),m=n.n(u),h=n(17),g=n.n(h),v=function(){return r.a.createElement("header",{className:g.a.contentHeader},r.a.createElement("h1",{className:g.a.sectionTitle},"__MAKESENSE"),r.a.createElement("div",{className:g.a.headerUserWrapper},r.a.createElement("div",{className:g.a.headerUserThumbnail}),r.a.createElement("div",{className:g.a.headerUserName},"Boris Kadaner"),r.a.createElement("div",{className:g.a.headerOptions},r.a.createElement("div",{className:g.a.headerTriangle}))))},f=n(8),b=n.n(f),S=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64"},a.createElement("g",null,a.createElement("path",{d:"M32,64c8.547,0,16.583-3.329,22.627-9.374c6.045-6.044,9.374-14.079,9.374-22.626s-3.329-16.582-9.374-22.626 C48.583,3.329,40.547,0,32,0C23.452,0,15.417,3.329,9.373,9.374C3.328,15.418-0.001,23.453-0.001,32s3.329,16.582,9.374,22.626 C15.417,60.671,23.452,64,32,64z M10.787,10.788C16.453,5.121,23.986,2,32,2c8.013,0,15.547,3.121,21.213,8.788 C58.88,16.454,62.001,23.987,62.001,32s-3.121,15.546-8.788,21.212C47.547,58.879,40.013,62,32,62 c-8.014,0-15.547-3.121-21.213-8.788C5.12,47.546,1.999,40.013,1.999,32S5.12,16.454,10.787,10.788z"}),a.createElement("rect",{x:"31",y:"17",width:"2",height:"22"}),a.createElement("rect",{x:"31",y:"43",width:"2",height:"4"})))}}]),t}(a.Component),_=n(14),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64"},a.createElement("g",null,a.createElement("path",{d:"M48,4c-7.357,0-13.639,4.146-16,9.929C29.639,8.146,23.357,4,16,4C5.985,4,0,12.644,0,21 c0,8.589,5.326,17.755,15.83,27.242c7.738,6.989,15.59,11.577,15.668,11.623L32,60.156l0.502-0.291 c0.079-0.046,7.93-4.634,15.668-11.623C58.674,38.755,64,29.589,64,21C64,12.644,58.015,4,48,4z M32,57.833 C28.031,55.41,2,38.828,2,21C2,13.627,7.237,6,16,6c7.214,0,15,4.971,15,13h2c0-8.029,7.786-13,15-13c8.763,0,14,7.627,14,15 C62,38.818,35.968,55.409,32,57.833z"})))}}]),t}(a.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64",color:"#768093"},a.createElement("g",null,a.createElement("path",{d:"M0,58h64V6H0V58z M2,56V16h60v40H2z M62,8v6H2V8H62z"}),a.createElement("rect",{x:"6",y:"10",width:"4",height:"2"}),a.createElement("rect",{x:"14",y:"10",width:"4",height:"2"}),a.createElement("rect",{x:"22",y:"10",width:"4",height:"2"}),a.createElement("rect",{x:"6",y:"24",width:"27",height:"2"}),a.createElement("rect",{x:"6",y:"32",width:"27",height:"2"}),a.createElement("rect",{x:"6",y:"40",width:"27",height:"2"}),a.createElement("path",{d:"M37,42h21V24H37V42z M39,26h17v14H39V26z"})))}}]),t}(a.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64",color:"#768093"},a.createElement("g",null,a.createElement("path",{d:"M0,58h64V6H0V58z M2,56V16h60v40H2z M62,8v6H2V8H62z"}),a.createElement("rect",{x:"6",y:"10",width:"4",height:"2"}),a.createElement("rect",{x:"14",y:"10",width:"4",height:"2"}),a.createElement("rect",{x:"22",y:"10",width:"4",height:"2"}),a.createElement("rect",{x:"6",y:"24",width:"27",height:"2"}),a.createElement("rect",{x:"6",y:"32",width:"27",height:"2"}),a.createElement("rect",{x:"6",y:"40",width:"27",height:"2"}),a.createElement("path",{d:"M37,42h21V24H37V42z M39,26h17v14H39V26z"})))}}]),t}(a.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64"},a.createElement("g",null,a.createElement("path",{d:"M53,27h-1v-5c0-0.17-0.229-17-20-17S12,21.83,12,22v5h-1C4.935,27,0,31.935,0,38s4.935,11,11,11h3V31v-4v-5 c0-0.612,0.205-15,18-15c17.739,0,17.998,14.389,18,15v5v1v20v1v3.323l-13,5.2V54H27v6h9.192L52,53.677V49h1 c6.065,0,11-4.935,11-11S59.065,27,53,27z M12,47h-1c-4.963,0-9-4.038-9-9s4.037-9,9-9h1v2V47z M29,58v-2h6v2H29z M53,47h-1V29h1 c4.963,0,9,4.038,9,9S57.963,47,53,47z"})))}}]),t}(a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64"},a.createElement("g",null,a.createElement("path",{d:"M59,63.236l5-10V2H54v4h-4v11h2V8h2v45.236L59,63.236z M56,4h6v48.764l-3,6l-3-6V4z"}),a.createElement("path",{d:"M46,7H32.531l-0.75-3H28V0H18v4h-3.781l-0.75,3H0v57h46V7z M15.781,6H20V2h6v4h4.219l1.5,6H14.281L15.781,6z M44,62H2V9 h10.969l-1.25,5h22.562l-1.25-5H44V62z"})))}}]),t}(a.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"64px",height:"64px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64"},a.createElement("g",null,a.createElement("path",{d:"M53.144,20.271L59.414,14L50,4.586l-6.27,6.27L39,9.279V0H25v9.279l-4.73,1.576L14,4.586L4.586,14l6.27,6.271L9.279,25H0 v14h9.279l1.577,4.729L4.586,50L14,59.414l6.27-6.27L25,54.721V64h14v-9.279l4.73-1.576l6.27,6.27L59.414,50l-6.27-6.271L54.721,39 H64V25h-9.279L53.144,20.271z M62,37h-8.721l-2.423,7.271L56.586,50L50,56.586l-5.73-5.73L37,53.279V62H27v-8.721l-7.27-2.424 L14,56.586L7.414,50l5.73-5.729L10.721,37H2V27h8.721l2.423-7.271L7.414,14L14,7.414l5.73,5.73L27,10.721V2h10v8.721l7.27,2.424 L50,7.414L56.586,14l-5.73,5.729L53.279,27H62V37z"}),a.createElement("path",{d:"M32,25c-3.86,0-7,3.141-7,7s3.14,7,7,7s7-3.141,7-7S35.86,25,32,25z M32,37c-2.757,0-5-2.243-5-5s2.243-5,5-5s5,2.243,5,5 S34.757,37,32,37z"})))}}]),t}(a.Component),x=n(13),w=n.n(x),k=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("section",null,a.createElement("div",{className:b.a.sideMenuTitle},"GENERAL"),a.createElement(A,Object.assign({},this.props,{pageName:"FAVORITES_PAGE"}),a.createElement(E,{className:b.a.sideMenuItemIcon}),"Favorites"),a.createElement(A,Object.assign({},this.props,{pageName:"APPLICATION_PAGE"}),a.createElement(y,{className:b.a.sideMenuItemIcon}),"Applications"),a.createElement(A,Object.assign({},this.props,{pageName:"SENSORS_PAGE"}),a.createElement(N,{className:b.a.sideMenuItemIcon}),"Devices"),a.createElement(A,Object.assign({},this.props,{pageName:"HELP_PAGE"}),a.createElement(O,{className:b.a.sideMenuItemIcon}),"Help"))}}]),t}(a.Component),A=function(e){var t,n=e.pageSelector,r=e.selectedPage,i=e.children,c=e.pageName;return a.createElement("button",{onClick:function(){return n(c)},className:w()((t={},Object(_.a)(t,b.a.sideMenuItem,!0),Object(_.a)(t,b.a.selected,r===c),t))},a.createElement(a.Fragment,null,i))},M=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("section",null,a.createElement("div",{className:b.a.sideMenuTitle},"SETTINGS"),a.createElement("button",{className:b.a.sideMenuItem},a.createElement(C,{className:b.a.sideMenuItemIcon}),"Account"),a.createElement("button",{className:b.a.sideMenuItem},a.createElement(j,{className:b.a.sideMenuItemIcon}),"Dashboard Settings"))}}]),t}(a.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("section",{className:b.a.sideMenuIPinnedApps},a.createElement("div",{className:b.a.sideMenuTitle},"PINNED APPS"))}}]),t}(a.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("nav",{className:b.a.sideMenuWrapper},a.createElement("div",null,a.createElement(k,this.props),a.createElement(M,this.props),a.createElement(L,this.props)),a.createElement("div",{className:b.a.sideMenuItem},a.createElement(S,{className:b.a.sideMenuItemIcon}),"Logout"))}}]),t}(a.Component),I=n(9),W=n.n(I),P=n(11),D=n(21),H=n(15),V=n.n(H),z=n(44),B=n(68),F=function e(){var t=this;Object(o.a)(this,e),this.makeSenseApi=window.MkSAPIBuilder.GetInstance(),this.getApplicationThumbnail=function(){return console.log("/applications/:appId:/thumbnail"),Promise.resolve(B)},this.getNodeDetails=function(e){return new Promise(function(n){t.makeSenseApi.GetNodeInfo(e,function(e,t){var a=e&&e.data&&e.data.payload;n(a)})})},this.getNodeSettings=function(e){return Promise.all([t.getNodeHtmlSettings(e),t.getNodeScriptsSettings(e)]).then(function(e){var t=Object(D.a)(e,2);return{html:[t[0]],scripts:[t[1]],css:[]}})},this.getAppData=function(e){return Promise.all([t.getAppHtml(e),t.getAppScripts(e)]).then(function(e){var t=Object(D.a)(e,2);return{html:[t[0]],scripts:[t[1]],css:[]}})},this.getNodeScriptsSettings=function(e){return new Promise(function(n){t.makeSenseApi.GetFileContent(e,{ui_type:"config",file_name:"",file_type:"js"},function(e){n(e.data.payload.content)})})},this.getAppHtml=function(e){return new Promise(function(n){t.makeSenseApi.GetFileContent(e,{ui_type:"app",file_name:"",file_type:"html"},function(e){n(e.data.payload.content)})})},this.getAppScripts=function(e){return new Promise(function(n){t.makeSenseApi.GetFileContent(e,{ui_type:"app",file_name:"",file_type:"js"},function(e){n(e.data.payload.content)})})},this.getNodeHtmlSettings=function(e){return new Promise(function(n){t.makeSenseApi.GetFileContent(e,{ui_type:"config",file_name:"",file_type:"html"},function(e){n(e.data.payload.content)})})},this.getNodeList=function(){return new Promise(function(e,n){t.makeSenseApi.Webface.GetUserNodeList(function(t){e(t.nodes.data),t&&t.error&&n("OnGatewayDataArrivedCallback received an error")})})},this.makeSenseApi.ConnectGateway(function(){return console.log("Dashboard connected to gateway")}),this.makeSenseApi.Gateway.OnGatewayDataArrivedCallback=function(e){},this.makeSenseApi.Gateway.OnGatewayAdminCallback=function(e){console.log("OnGatewayAdminCallback",e)}},G=a.createContext({dashboardServerApi:new F}),U={},R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).context=void 0,n.state=U,n.iframeRoot=a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.createIframeContent()}},{key:"decodeDomProperty",value:function(e){for(var t=e.toString(),n="",a=0;a<t.length&&"00"!==t.substr(a,2);a+=2)n+=String.fromCharCode(parseInt(t.substr(a,2),16));return n}},{key:"createIframeContent",value:function(){if(this.iframeRoot.current){var e=this.decodeDomProperty(this.props.html),t=this.decodeDomProperty(this.props.scripts),n=c.a.findDOMNode(this.iframeRoot.current);n&&n.contentDocument&&(n.contentDocument.open(),n.contentDocument.write(e),n.contentDocument.write("<script>".concat(t,"<\/script>")),n.contentDocument.close())}}},{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement("iframe",{title:"mk-portal",style:{display:"block",width:"100%",height:"100%"},frameBorder:"0",ref:this.iframeRoot}))}}]),t}(a.Component);R.contextType=G;var K={isMkAppOpen:!1,html:"",scripts:""},Y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state=K,n.context=void 0,n.renderThumbnail=function(){var e=n.props.description;return a.createElement("div",{className:V.a.applicationThumbnailWrapper},e?a.createElement("div",{className:V.a.textThumbnailLarge},e.charAt(0).toUpperCase()):a.createElement("div",{className:V.a.textThumbnail},"MKapp"))},n.openMKAppMainView=Object(P.a)(W.a.mark(function e(){var t,a,r,i,c;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context.dashboardServerApi.getAppData(n.props.uuid);case 2:t=e.sent,a=Object(D.a)(t.html,1),r=a[0],i=Object(D.a)(t.scripts,1),c=i[0],n.setState({isMkAppOpen:!0,html:r,scripts:c});case 8:case"end":return e.stop()}},e)})),n.closeMKAppMainView=function(){n.setState({isMkAppOpen:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.isMkAppOpen,t=this.props.description,n=this.props.uuid.substring(this.props.uuid.length-6,this.props.uuid.length);return a.createElement("div",{onDoubleClick:this.openMKAppMainView,className:"\n          ".concat(V.a.applicationWrapper," \n          ").concat(V.a.smartHome)},a.createElement("div",{className:V.a.applicationTitle},this.renderThumbnail(),t||"...".concat(n)),a.createElement("div",{className:V.a.applicationContent},e?a.createElement(z.a,{closeOnEsc:!0,classNames:{modal:V.a.mkAppModalWrapper},onClose:this.closeMKAppMainView,open:this.state.isMkAppOpen},a.createElement(R,{html:this.state.html,scripts:this.state.scripts})):a.createElement("div",null,"put knobs here")))}}]),t}(a.Component);Y.contextType=G;var J=n(16),Q={appThumbnail:null,mkAppLoadedData:{},appProps:{},description:""},q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=Q,n.context=void 0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(W.a.mark(function e(){var t,n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.context.dashboardServerApi.getApplicationThumbnail();case 3:return t=e.sent,e.next=6,this.context.dashboardServerApi.getNodeDetails(this.props.mkAppInitData.uuid);case 6:n=e.sent,this.setState({appThumbnail:t,description:n&&n.description}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(a.Fragment,null,this.props.render(Object(J.a)({appThumbnail:this.state.appThumbnail,description:this.state.description},this.props.mkAppInitData)))}}]),t}(a.Component);q.contextType=G;var Z=n(48),X=n.n(Z),$=function(e){var t=e.children;return r.a.createElement("header",{className:X.a.myApplicationsHeader},t)},ee=n(29),te=n.n(ee),ne=function(){return a.createElement("div",null,"SKELETON")},ae={appList:[]},re=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=ae,n.context=void 0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.dashboardServerApi.getNodeList();case 2:t=e.sent,this.setState({appList:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.appList;return a.createElement("section",{className:te.a.pageWrapper},a.createElement($,null,"MY APPLICATIONS"),a.createElement("div",{className:te.a.pageContentWrapper},e&&e.map(function(e,t){return a.createElement(q,{key:t,mkAppInitData:e,render:function(e){return e?a.createElement(Y,e):a.createElement(ne,null)}})})))}}]),t}(a.Component);re.contextType=G;var ie=n(49),ce=n.n(ie),oe=(a.Component,n(18)),se=n.n(oe),le=n(7),pe=n.n(le),de=n(30),ue=n(32),me=n(33),he=n(34);function ge(){var e=Object(me.a)(["\n    background-image: linear-gradient(\n      to right,\n      "," 0,\n      rgba(249, 250, 251, 0.8) 10%,\n      "," 20%\n    );\n    width: 100%;\n    height: 100%;\n    background-repeat: no-repeat;\n    background-size: 800px 104px;\n    display: inline-block;\n    position: absolute;\n    animation-duration: 1s;\n    animation-fill-mode: forwards;\n    animation-iteration-count: infinite;\n    animation-name: ",";\n    animation-timing-function: linear;\n  "]);return ge=function(){return e},e}function ve(){var e=Object(me.a)(["\n    0% {\n      background-position: 0 0;\n    }\n  \n    100% {\n      background-position: "," 0;\n    }\n  "]);return ve=function(){return e},e}var fe=function(e){var t=e.width,n=e.color,r=Object(he.b)(ve(),t),i=he.a.div(ge(),n,n,r);return a.createElement(i,null)},be=function(e){var t=e.fontSize,n=e.color,r=e.weight,i=e.width,c=e.skeletonColor,o=e.showSkeleton,s=e.children,l=Object(J.a)({fontSize:t,color:n,display:"inline-block",height:t,lineHeight:t},function(e){switch(e){case"thin":return{fontFamily:'"Open Sans Light", sans-serif',weight:e};case"normal":return{fontFamily:'"Open Sans Normal", sans-serif',weight:e};case"bold":return{fontFamily:'"Open Sans Bold", sans-serif',weight:e}}}(r)),p={backgroundColor:c,content:"",width:i};return a.createElement(a.Fragment,null,o?a.createElement("div",{style:Object(J.a)({},l,p)}):a.createElement("div",{style:Object(J.a)({},l,{})},s))},Se=function(e){var t=e.showSkeleton,n=e.children;return a.createElement(be,{fontSize:"10px",color:"#768093",skeletonColor:"#ecedf4",weight:"bold",width:"70px",showSkeleton:t},a.createElement(a.Fragment,null,n))},_e=function(e){var t=e.showSkeleton,n=e.children;return a.createElement(be,{color:"#2f3148",skeletonColor:"#ecedf4",weight:"normal",fontSize:"14px",width:"100px",showSkeleton:t},a.createElement(a.Fragment,null,n))},Ee=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={isNodeSettingsLoaded:!0,isNodeSettingsOpenned:!1},n.context=void 0,n.handleNodeSettingsClick=function(){n.props.onCardSettingsClickCallback&&n.props.onCardSettingsClickCallback()},n.deviceTypeSection=function(){return a.createElement("div",{className:"".concat(pe.a.Section," ").concat(pe.a.deviceContentWrapper," ").concat(pe.a.deviceType)},a.createElement("div",{className:pe.a.subTitle},a.createElement(Se,{showSkeleton:n.props.isLoading},"DEVICE TYPE")),a.createElement(_e,{showSkeleton:n.props.isLoading},n.props.deviceSummaryData.type))},n.deviceNameSection=function(){var e=n.props.deviceSummaryData,t=e.description,r=e.name,i=n.props.isLoading;return a.createElement("div",{className:"".concat(pe.a.Section," ").concat(pe.a.deviceContentWrapper," ").concat(pe.a.deviceName)},a.createElement("div",{className:pe.a.subTitle},a.createElement(Se,{showSkeleton:i},"DEVICE NAME")),a.createElement("div",{className:pe.a.text},a.createElement(_e,{showSkeleton:i},r," - ",t)))},n.deviceIdSection=function(){return a.createElement("div",{className:"".concat(pe.a.Section," ").concat(pe.a.deviceContentWrapper," ").concat(pe.a.deviceName)},a.createElement("div",{className:pe.a.subTitle},a.createElement(Se,{showSkeleton:n.props.isLoading},"DEVICE ID")),a.createElement("div",{className:pe.a.text},a.createElement(_e,{showSkeleton:n.props.isLoading},n.props.deviceSummaryData.uuid)))},n.deviceConnectionSection=function(){return a.createElement("div",{className:"".concat(pe.a.Section," ").concat(pe.a.deviceContentWrapper," ").concat(pe.a.deviceStatus)},a.createElement("div",{className:pe.a.subTitle},a.createElement(Se,{showSkeleton:n.props.isLoading},"STATUS")),a.createElement("div",{className:pe.a.text},a.createElement(_e,{showSkeleton:n.props.isLoading},"Connected")))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:pe.a.cardSummary},a.createElement("div",{className:"".concat(pe.a.Section," ").concat(pe.a.IconSectionBackground)},a.createElement(de.a,{icon:ue.b,size:"2x",color:"#768093"})),this.deviceTypeSection(),this.deviceNameSection(),this.deviceIdSection(),this.deviceConnectionSection(),a.createElement("div",{className:"".concat(pe.a.deviceContentWrapper," ").concat(pe.a.deviceSettingsMenu)},a.createElement("span",{className:pe.a.deviceSettingsMenuIcon,onClick:this.handleNodeSettingsClick},a.createElement(de.a,{icon:ue.a,size:"2x",color:"#768093"}))),e&&a.createElement(fe,{width:"1400px",color:"rgba(249, 250, 251, 0.001)"})))}}]),t}(a.Component);Ee.contextType=G;var ye=n(52),Ne=n.n(ye),Oe=n(53),Ce=n.n(Oe),je={isNodeSummaryOpen:!1,isNodeSettingsloaded:!1},xe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=je,n.context=void 0,n.componentDomRef=null,n.onCardSettingsOpenCloseAnimation=function(){var e=n.state.isNodeSummaryOpen,t=n.state.isNodeSettingsloaded;n.setState({isNodeSummaryOpen:!e,isNodeSettingsloaded:!t})},n.onNodeSettingsloaded=function(){n.setState({isNodeSettingsloaded:!0})},n.getTranslationDistance=function(e){return n.componentDomRef.getBoundingClientRect().top-155},n.closeOnOverlayClick=function(){n.setState({isNodeSummaryOpen:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.componentDomRef=c.a.findDOMNode(this)}},{key:"render",value:function(){var e=this.state,t=e.isNodeSummaryOpen,n=e.isNodeSettingsloaded;return a.createElement(a.Fragment,null,t&&a.createElement(Ce.a,{transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionName:"overlay"},a.createElement("div",{onClick:this.closeOnOverlayClick,className:Ne.a.overlay})),this.props.children({onCardSettingsOpenCloseAnimation:this.onCardSettingsOpenCloseAnimation,onNodeSettingsloaded:this.onNodeSettingsloaded,isNodeSummaryOpen:t,isNodeSettingsloaded:n,getTranslationDistance:this.getTranslationDistance}))}}]),t}(a.Component);xe.contextType=G;var we={isLoading:!0,deviceSummaryData:{}},ke=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=we,n.context=void 0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.dashboardServerApi.getNodeDetails(this.props.uuid);case 2:t=e.sent,this.setState({deviceSummaryData:t,isLoading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.deviceSummaryData,n=e.isLoading;return a.createElement(a.Fragment,null,this.props.children({deviceSummaryData:t,isLoading:n}))}}]),t}(a.Component);ke.contextType=G;var Ae=n(19),Me=n.n(Ae),Le=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 36 36",className:this.props.className},a.createElement("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"}))}}]),t}(a.Component),Te={html:[""],scripts:[""],isLoadingFiles:!0},Ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=Te,n.context=void 0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(W.a.mark(function e(){var t,n=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.dashboardServerApi.getNodeSettings(this.props.deviceUuid);case 2:t=e.sent,this.setState(Object(J.a)({},t,{isLoadingFiles:!1}),function(){n.props.onCardSettingsLoaded&&n.props.onCardSettingsLoaded()});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement("div",{key:"node-settings",className:Me.a.nodeSettingsHeader},a.createElement("div",null,"NODE SETTINGS",a.createElement("span",{className:Me.a.nodeSettingsHeaderDetails},this.props.nodeName)),a.createElement("div",{onClick:this.props.closeModal},a.createElement(Le,{className:Me.a.closeButton}))),a.createElement("div",{className:Me.a.nodeSettingsContent},this.state.isLoadingFiles?a.createElement("div",{className:Me.a.loading},a.createElement("div",{className:Me.a.nodeSettingsSpinner})," ",a.createElement("div",null," Loading...")):a.createElement(R,{scripts:this.state.scripts[0],html:this.state.html[0]})))}}]),t}(a.Component);Ie.contextType=G;var We={showNodeList:!1,nodeList:[],filteredMaster:[],isDisplayWithMasterNodes:!0},Pe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=We,n.context=void 0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.dashboardServerApi.getNodeList();case 2:t=e.sent,this.setState({nodeList:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.nodeList;return a.createElement(a.Fragment,null,a.createElement("section",{className:se.a.pageWrapper},a.createElement($,null,a.createElement("div",{className:se.a.pageHeaderWrapper},"MY DEVICES")),a.createElement("div",{className:se.a.pageContentWrapper},e.map(function(e,t){return a.createElement(xe,{key:t},function(n){var r=n.onCardSettingsOpenCloseAnimation,i=n.isNodeSummaryOpen,c=n.onNodeSettingsloaded,o=n.getTranslationDistance,s=n.isNodeSettingsloaded;return a.createElement(ke,{uuid:e.uuid},function(e){var n,l=e.isLoading,p=e.deviceSummaryData;return a.createElement(a.Fragment,null,p&&a.createElement("div",{className:se.a.outerCardWrapper},a.createElement("section",{style:i?{transform:"translateY(-".concat(o(t),"px")}:{},className:w()((n={},Object(_.a)(n,se.a.cardWrapper,!0),Object(_.a)(n,se.a.cardWrapperSelected,i),Object(_.a)(n,se.a.cardWrapperSettingsLoaded,s),n))},a.createElement(a.Fragment,null,i?a.createElement(Ie,{nodeName:"".concat(p.name," - ").concat(p.description),deviceUuid:p.uuid,onCardSettingsLoaded:c,closeModal:r}):a.createElement(Ee,{key:t,deviceSummaryData:p,isLoading:l,onCardSettingsClickCallback:r})))))})})}))))}}]),t}(a.Component);Pe.contextType=G;var De={selectedDashboardPage:"APPLICATION_PAGE"},He=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=De,n.selectDashboardPage=function(e){n.setState({selectedDashboardPage:e})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.selectedDashboardPage;return a.createElement("div",{className:m.a.root},a.createElement(v,null),a.createElement("main",{className:m.a.siteContent},a.createElement(T,{pageSelector:this.selectDashboardPage,selectedPage:e}),"APPLICATION_PAGE"===e&&a.createElement(re,null),"SENSORS_PAGE"===e&&a.createElement(Pe,null)))}}]),t}(a.Component),Ve=n(84);n(80),n(81),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(function(){return a.createElement(Ve.a,null,a.createElement(G.Provider,{value:{dashboardServerApi:new F}},a.createElement(He,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.7e2f5bff.chunk.js.map